(function(root,factory){"use strict";if(typeof define==="function"&&define.amd){define([],factory)}else if(typeof exports==="object"){module.exports=factory()}else{root.Sass=factory()}})(this,function(){var SASSJS_RELATIVE_PATH=function(){"use strict";if(typeof __dirname!=="undefined"){return __dirname}if(typeof document==="undefined"||!document.getElementsByTagName){return null}var currentScript=document.currentScript||function(){var scripts=document.getElementsByTagName("script");return scripts[scripts.length-1]}();var path=currentScript&&currentScript.src;if(!path){return null}if(path.slice(-8)==="/sass.js"){return path.slice(0,-8)}if(path.slice(-13)==="/sass.sync.js"){return path.slice(0,-13)}return null}()||".";"use strict";var noop=function(){};var slice=[].slice;var globalWorkerUrl;function Sass(workerUrl){if(!workerUrl&&!globalWorkerUrl){throw new Error("Sass needs to be initialized with the URL of sass.worker.js - "+"either via Sass.setWorkerUrl(url) or by new Sass(url)")}if(!globalWorkerUrl){globalWorkerUrl=workerUrl}for(var key in this){if(typeof this[key]==="function"){this[key]=this[key].bind(this)}}this._callbacks={};this._worker=new Worker(workerUrl||globalWorkerUrl);this._worker.addEventListener("message",this._handleWorkerMessage,false)}Sass.setWorkerUrl=function(workerUrl){globalWorkerUrl=workerUrl};Sass.style={nested:0,expanded:1,compact:2,compressed:3};Sass.comments={none:0,"default":1};Sass.prototype={style:Sass.style,comments:Sass.comments,destroy:function(){this._worker&&this._worker.terminate();this._worker=null;this._callbacks={};this._importer=null},_handleWorkerMessage:function(event){if(event.data.command){this[event.data.command](event.data.args)}this._callbacks[event.data.id]&&this._callbacks[event.data.id](event.data.result);delete this._callbacks[event.data.id]},_dispatch:function(options,callback){if(!this._worker){throw new Error("Sass worker has been terminated")}options.id="cb"+Date.now()+Math.random();this._callbacks[options.id]=callback;this._worker.postMessage(options)},_importerInit:function(args){var done=function done(result){this._worker.postMessage({command:"_importerFinish",args:[result]})}.bind(this);try{this._importer(args[0],done)}catch(e){done({error:e.message});throw e}},importer:function(importerCallback,callback){if(typeof importerCallback!=="function"&&importerCallback!==null){throw new Error("importer callback must either be a function or null")}this._importer=importerCallback;this._worker.postMessage({command:"importer",args:[Boolean(importerCallback)]});callback&&callback()}};var commands="writeFile readFile listFiles removeFile clearFiles lazyFiles preloadFiles options compile compileFile";commands.split(" ").forEach(function(command){Sass.prototype[command]=function(){var callback=slice.call(arguments,-1)[0];var args=slice.call(arguments,0,-1);if(typeof callback!=="function"){args.push(callback);callback=noop}this._dispatch({command:command,args:args},callback)}});Sass.setWorkerUrl(SASSJS_RELATIVE_PATH+"/sass.worker.js");return Sass});
